# 📖 Git 工作流程使用说明

## 🎯 什么时候使用这个工作流程？

### ✅ 适用场景
- 有多个文件需要分批提交
- 需要按功能模块组织提交
- 想要清晰的提交历史
- 需要详细了解每次提交的内容

### ❌ 不需要使用
- 只有1-2个简单文件修改
- 临时测试或调试
- 已经很熟悉要提交的内容

## 🔄 完整使用流程

### 1. 启动工作流程
当你想要检查可提交内容时，说：
```
帮我检查下可以提交的
```
或
```
@GIT_WORKFLOW.md 帮我检查下可以提交的
```

### 2. Claude 会自动执行
- 运行 `git status` 查看文件状态  
- 运行 `git diff` 查看修改内容
- 分析所有未跟踪/已修改的文件
- 按功能逻辑分组文件
- 提供详细的提交建议

### 3. Claude 提供详细分析
你会收到类似这样的报告：
```
## 📌 第1次提交准备 - [功能描述]

**修改摘要**: [一句话说明这次提交做了什么]

**文件列表**: 
- file1.py (具体说明这个文件的作用和修改)
- file2.py (具体说明这个文件的作用和修改)

**主要改动**:
- ✅ 改动点1 (具体描述)
- ✅ 改动点2 (具体描述)
- ✅ 改动点3 (具体描述)

**建议提交信息**: 
```
[类型]: 标题

- 详细说明1
- 详细说明2

影响范围: 模块名
```

是否提交这些更改？(yes/no/review)
```

### 4. 你的响应选项

#### `yes` - 直接提交
Claude 会立即执行：
```bash
git add [相关文件]
git commit -m "[完整提交信息]"
```
然后显示提交成功状态，继续下一个提交准备。

#### `no` - 跳过此次提交  
Claude 会跳过当前文件组，准备下一批文件的提交建议。

#### `review` - 查看详细差异
Claude 会运行 `git diff` 显示具体的代码修改内容，让你确认后再决定。

#### `modify` - 修改后再提交
如果你需要调整代码后再提交，Claude 会等待你完成修改。

### 5. 循环直到完成
Claude 会持续提供每一批文件的提交建议，直到所有文件都处理完毕。

## 💡 提交类型说明

| 类型 | 用途 | 示例 |
|------|------|------|
| `feat` | 新功能 | `feat: 添加用户登录模块` |
| `fix` | 修复bug | `fix: 修复登录验证错误` |
| `docs` | 文档更新 | `docs: 更新API使用说明` |
| `refactor` | 重构代码 | `refactor: 优化数据库查询逻辑` |
| `chore` | 构建/工具 | `chore: 更新依赖包版本` |

## 🚨 注意事项

### 安全检查
- Claude 会自动检查是否包含敏感信息
- 提醒移除调试代码和临时文件
- 确保每次提交都是原子化的

### 最佳实践
- **信任 Claude 的分组建议**：基于功能逻辑和文件关联性
- **仔细阅读修改摘要**：确保了解每次提交的具体内容  
- **使用 review 选项**：如果不确定修改内容
- **保持提交粒度适中**：每次提交解决一个完整的问题

## 🎯 实际使用示例

### 场景1：新功能开发完成
```
你: @GIT_WORKFLOW.md 帮我检查下可以提交的

Claude: [分析文件，提供分组建议]
## 📌 第1次提交准备 - 用户认证模块
**修改摘要**: 实现用户注册和登录功能
**文件列表**: 
- auth.py (用户认证核心逻辑)
- models.py (用户数据模型)
...

你: yes

Claude: [执行提交，继续下一个]
## 📌 第2次提交准备 - 前端界面
...
```

### 场景2：需要详细检查
```
你: review

Claude: [显示 git diff 详细内容]
## 文件修改详情：
+ 新增用户注册接口
+ 添加密码加密逻辑
- 删除临时测试代码

你: yes
```

### 场景3：暂时跳过某些文件
```
你: no

Claude: [跳过当前分组，继续下一个]
## 📌 第2次提交准备 - 配置文件更新
...
```

## 📋 常用命令参考

```bash
# 查看当前状态 (Claude会自动执行)
git status

# 查看修改内容 (review时执行)  
git diff

# 查看已暂存内容
git diff --staged

# 查看提交历史
git log --oneline -5
```

## 🔧 自定义建议

### 调整分组策略
如果你对Claude的分组不满意，可以说：
```
"我希望把 file1.py 和 file2.py 放在一起提交"
"这两个文件分开提交比较好"
```

### 修改提交信息
如果你想调整提交信息格式，可以说：
```
"提交信息改为：[你的格式]"
"添加更详细的说明"
```

## 🎉 使用效果

使用这个工作流程后，你的 git 历史会变成：
```
* feat: 实现用户认证模块 (3个文件)
* docs: 添加API使用说明 (2个文件)  
* chore: 更新项目配置 (1个文件)
* feat: 添加数据分析功能 (4个文件)
```

而不是：
```
* 更新代码 (10个文件混在一起)
```

---

## 🚀 快速开始

现在就试试吧！只需要说：
```
@GIT_WORKFLOW.md 帮我检查下可以提交的
```

Claude会引导你完成整个流程！

---
*这个使用说明让你轻松掌握规范化的Git提交流程*